# GitHub Copilot 指示書

## プロジェクト概要
Next.js + Supabase + Vercel/Netlify + Stripe を使用したアート作品販売サイトの構築ガイド  
詳細は `docs/README.md` を参照

## 利用可能なMCPサーバー
- **Supabase MCP**: Supabaseプロジェクトの管理、データベース操作、エッジファンクション等の直接操作が可能
- **Context7 MCP**: ライブラリドキュメントの検索・取得による最新の技術情報アクセス

## 📋 TODOリスト参照ルール

### 基本原則
- **コード提案前に `TODO.md` を必ず確認**し、現在のPhase と優先度を把握
- **次に実装すべき機能** を TODOリストから特定して提案
- **完了したタスク** は `[x]` に更新して進捗を記録
- **新しい課題** が発見された場合はTODOリストに追加

### 開発フロー
1. 🔍 **TODOリスト確認**: `TODO.md` で現在のPhase・優先度・未完了タスクを確認
2. 🎯 **優先タスク特定**: 高優先度（🔥）→ 中優先度（🔶）→ 低優先度（🔹）の順で選択
3. 💻 **実装提案**: 選択したタスクに基づいてコード・設定を提案
4. ✅ **進捗更新**: 完了時にTODOリストの該当項目を `[x]` に更新
5. 📝 **新規追加**: 実装中に発見した課題・改善点をTODOリストに追加

### 参照すべき優先順位
```
🔥 Phase 1 MVP必須タスク
🔶 Phase 2 機能拡張
🔹 Phase 3 体験向上・最適化
```

### 提案時の必須確認事項
- [ ] TODOリストの該当Phase確認
- [ ] 依存関係の先行タスク完了確認
- [ ] 技術スタック・アーキテクチャの一貫性確認
- [ ] 無料枠制限・費用への影響確認

## 自動ドキュメント管理

### 実行内容
- `docs/` フォルダ内の全ドキュメントの定期チェック・更新
- **`TODO.md` の進捗状況とドキュメントの整合性確認**
- 技術スタック（Next.js、Supabase、Vercel、Stripe、Netlify、Render）の最新情報反映
- MCP（Supabase MCP、Context MCP）を活用した技術情報の自動収集・更新
- リンク切れや情報の古さを検出・修正

### 更新トリガー
- **コード変更時**: 実装とドキュメント・TODOリストの整合性確認
- **タスク完了時**: TODOリストの進捗更新とドキュメント反映
- **外部サービス変更時**: 料金・利用規約・API変更の反映
- **月次メンテナンス**: 全体的なレビューと更新
- **MCP情報更新時**: 各MCPサーバーからの最新情報反映

### 重点監視項目
- 📊 **料金情報**: 各サービスの無料利用枠制限
- 📋 **利用規約**: 特にVercelの商用利用制限
- 🔧 **API変更**: 新機能・非推奨機能
- 🔒 **セキュリティ**: 脆弱性・新要件
- 🤖 **MCP機能**: Supabase MCP、Context MCPの新機能・変更点
- 📈 **進捗管理**: TODOリストの完了状況とマイルストーン

### 緊急対応項目
- セキュリティ脆弱性
- 重要なAPI廃止
- 利用規約の重大変更
- 料金体系の大幅変更
- **Phase 1 MVP開発のブロッキング課題**

### 更新原則
- 公式ドキュメント優先
- MCPサーバーからの情報活用
- **TODOリストベースの進捗主導型開発**
- 相互参照リンクの整合性維持
- 変更理由と日付の記録

具体的な更新対象ファイルや詳細なチェック項目は `docs/` フォルダ内の各ドキュメントと `TODO.md` を参照してください。